<% content_for :title, "Links" %>

<div class="page">
  <% if notice.present? %>
    <p class="flash flash--notice"><%= notice %></p>
  <% end %>

  <header class="links-header">
    <h1 class="links-title">Links</h1>
    <%= link_to "New link", new_link_path, class: "btn btn--primary" %>
  </header>

  <ul class="links-list" id="links">
    <% @links.each do |link| %>
      <li class="link-card" id="<%= dom_id link %>">
        <%= render link %>
        <div class="link-card__actions">
          <%= link_to "View", link, class: "btn btn--ghost" %>
          <% if link.user == current_user %>
            <%= link_to "Edit", edit_link_path(link), class: "btn btn--ghost" %>
            <%= button_to "Delete", link, method: :delete, data: { turbo_confirm: "Are you sure?" }, form: { class: "link-card__delete-form" }, class: "btn btn--danger" %>
          <% end %>
        </div>
      </li>
    <% end %>
  </ul>
</div>
